<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Calculator</title>

</head>

<body>
    <div class="container">
        <!--result box-->
        <div class="result">
            <p id="result-box">0</p>
        </div>
        
        <!--All Button-->
        <div class="buttons">
            <div class="button action-btn" id="clear"> Clear </div>
            <div class="button action-btn">X</div>
            <div class="button num-button  action-btn"> %</div>
            <div class="button num-button  calc-action-btn"> /</div>
            <div class="button num-button  seven">7</div>
            <div class="button num-button  eight">8</div>
            <div class="button num-button  nine">9</div>
            <div class="button num-button  calc-action-btn">*</div>
            <div class="button num-button  four">4</div>
            <div class="button num-button  five">5</div>
            <div class="button num-button  six">6</div>
            <div class="button num-button  calc-action-btn">-</div>
            <div class="button num-button  one">1</div>
            <div class="button num-button  two">2</div>
            <div class="button num-button  three">3</div>
            <div class="button num-button  calc-action-btn">+</div>
            <div class="button num-button  zero">0</div>
            <div class="button num-button  point">.</div>
            <div class="button calc-action-btn" onclick="addItem()" id="total">=</div>
            <div class="button num-button  calc-action-btn">**</div>
        </div>
 
    </div>

    <div class="container2">
        <!--Previous Calculations-->
        
            <h1 style="text-align: center;">History</h1>
            <div class="hist">
                
                <ul id="dynamic-list">
                    
                </ul>
            </div> 
    </div>
        
        <!--List of Previous Calculations-->
    
    <!-- partial -->
    <script>
     
    let btns = document.querySelectorAll(".num-button"); //.class selector finds elements with a specific class.
    let allBtns = document.querySelectorAll(".button");
    let resultBox = document.querySelector("#result-box"); //#id selector uses the id attribute of an HTML tag to find the specific element.
    let clearBtn = document.querySelector('#clear');
    let total = document.querySelector("#total");
    
    let btnSpread = [...btns]; //used to spread or copy the array or objects in another array or object.
    let allBtnSpread = [...allBtns];

    function addItem(){
        var ul = document.getElementById("dynamic-list");
        //console.log(ul);
        var result = document.getElementById("result-box").innerHTML;
        //console.log(result);
        var li = document.createElement("li");
        li.setAttribute('id',result);
        li.appendChild(document.createTextNode(result));
        ul.appendChild(li);
    }


    // For Number Inputs
    btnSpread.forEach((button, i) => {
        button.addEventListener("click", () => {
            // Inner Values for calculator
            if (resultBox.innerHTML == "0") {
                resultBox.innerHTML = "";
            }
            
            let value = btns[i].innerHTML;
            resultBox.innerHTML += value;
        });
    });

    // Function to evalute Strings
    function evaluate(fn) {
        return new Function('return ' + fn)();
    }

    // To calculate All Input
    total.addEventListener('click', ()=> {
        let allInputs = resultBox.innerHTML;
        resultBox.innerHTML = evaluate(allInputs);
        console.log(evaluate(allInputs));
    })

    // Clear all Inputs
    clearBtn.addEventListener('click', ()=> {
        resultBox.innerHTML = "0";
    })

    
    </script>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/gsap.min.js'></script>


</body>

</html>